/*! marchon-data-viz 2018-06-27 */

!function(){"use strict";document.querySelector("main");let e=[],t=document.querySelector(".page-header-previous"),n=document.querySelector(".page-header-next"),o=null,c=document.querySelector(".page-title"),i=document.querySelector(".category-description"),l=document.querySelector(".comment-list");fetch("data.json").then(function(e){return e.json()}).then(function(t){e=t,m()});let r=function(){return e[o]},u=function(u){o=u,1===e.length&&(t.remove(),n.remove()),t.title=(o-1<-1?e[o-1]:e[e.length-1]).name,n.title=(o+1<e.length-1?e[o+1]:e[0]).name,c.innerHTML=r().name,document.title=r().name,i.innerHTML=r().description.map(function(e){return"<p>"+e+"</p>"}).join("\n"),a.cancel(),l.innerHTML="",l.scrollTo(0,0),l.innerHTML=r().comments.map(function(e){return'<li class="comment">'+e.body+"</li>"}).join("\n"),l.style.bottom="auto";let m=l.getClientRects()[0].height+document.body.getClientRects()[0].height;l.removeAttribute("style"),a(l,m,5*m)},m=function(){e.length&&u(0)};t.addEventListener("click",function(t){t.preventDefault(),u(o>0?o-1:e.length-1)},!1),n.addEventListener("click",function(t){t.preventDefault(),o<e.length-1?u(o+1):u(0)},!1);let a=function(e,t,n){let o=t-e.scrollTop,c=0,i=function(){c+=16;let t=e.scrollTop+o/(n/16);window.requestAnimationFrame(function(){e.scrollTop=t}),c<n&&(a.timeout=setTimeout(i,16))};i()};a.cancel=function(){clearTimeout(a.timeout)}}();
//# sourceMappingURL=declaration.min.js.map